## Duckietown Code Server

Так как frontend (VS Code) разворачивается на боте, а backend на отдельной машине, каждый компонент запускается отдельно в соответствии с Readme:

- Frontend(на боте): 
```
  make buildFront
```
  
- Backend(на сервере): 
```
  make buildBackend
```

Для проверки запуска локально введите команду:
```
  make build
```

## Duckietown Code Server in DashBoard

1. Скачать нужный образ через интерфейс коммандной строки:
```
  docker pull afdaniele/compose
```

2. Запукаем сам контейнер с дашбордом и нужным пакетом.
При работе в Docker Desktop выбираем вклдаку Images и находим наш образ из пунтка 1. При запуске делаем в настройках доступным 8080 порт контейнера извне. Также необходимо указать порт для интерфейса localhost. Сокет по этому адресу будет мостом до Web IDE на 8080 порту контейнера. 
![изображение](https://user-images.githubusercontent.com/55065701/171870360-1c1db11f-b424-43e6-b07a-d42fd578ce94.png)

При работе в терминале используем команду:
```
  docker run -p 8080:80 afdaniele/compose
```
 
3. Заходим в терминал контейнера. 
При работе в Docker Desktop для этого нажимаем кнопку CLI:  
![изображение](https://user-images.githubusercontent.com/55065701/171940811-534ad19c-a7d5-41a0-9185-f581c5f065aa.png)

При работе в терминале для этого выводим список запущенных контейнеров командой
```
  docker ps
```
После этого заходим в терминал контейнера с помощью полученного CONTAINER ID выполняя команду
```
  docker exec -it <CONTAINER ID> bash
```

4. Скачиваем нужный нам пакет.
В терминале контейнера переходим в папку user-data:
 ```
  cd /user-data
```
Далее в папку /user-data нужно склонировать настроенный для проекта пакет. При копировании каталога с хост-системы следует ввести команду
```
  docker cp <host_source_path> /user-data
```

Так же, нужный пакет можно получить вместе с проектом командой:
 ```
  git clone https://github.com/OSLL/duckietown-code-server.git 
```
5. После этого нужно переименовать название папки проекта в "packages", делаем это командой 
```
  mv <old_name> packages
```
Если пакет был скопирован вместе с проектом, то в получившейся папке /user-data/packages можно удалить файлы проекта, так как в данном случае нет смысла хранить их в контейнере, все нужные настройки сохранены в файле packages.

6. В браузере переходим по ссылке http://localhost:8080/. Выполняем установку /compose/ по инструкции, которая будет выведена на экран, проходим все 4 шага.
 
7. После завершения всех 4 шагов, в toolbar должна появиться вкладка с нашим пакетом. 
![изображение](https://user-images.githubusercontent.com/55065701/170998722-3e16617e-b1a1-46c6-bf52-c2be68c5773a.png)

8. Теперь нам осталось просто запустить Web IDE по инструкции, приведенной выше и обновить страницу. 
Web ide интегрировано в Duckietown Dashboard.
![изображение](https://user-images.githubusercontent.com/55065701/170999357-b435f122-e5d8-45a5-8fac-c8dd8bcc3ace.png)